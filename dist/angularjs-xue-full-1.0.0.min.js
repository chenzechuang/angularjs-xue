/**
 * angularjs-xue
 * Homepage: https://github.com/zhangxuelian/angularjs-xue
 * 
 * Version: 1.0.0 - 2020-01-19
 * Require angularjs version: 1.2.32
 * License: ISC
 */

angular.module("ui.xue",["ui.xue.tpls","xue.pagination","xue.uitl.lang","xue.pagination","xue.table","xue.ui","xue.util.array","xue.util.collection","xue.util.date","xue.util.lang","xue.util.math","xue.util.methods","xue.util.number","xue.util.object","xue.util.properties","xue.util.seq","xue.util.string","xue.uitl.function","xue.util"]),angular.module("ui.xue.tpls",["xue/template/pagination/pager.html","xue/template/pagination/pagination.html","xue/template/pagination/pager.html","xue/template/pagination/pagination.html","xue/template/table/table.html"]),angular.module("xue.pagination",[]).controller("xuePaginationController",["$scope","$attrs","$parse",function(n,i,a){var r=this,u={$setViewValue:angular.noop},e=i.numPages?a(i.numPages).assign:angular.noop;this.init=function(t,e){u=t,this.config=e,u.$render=function(){r.render()},i.itemsPerPage?n.$parent.$watch(a(i.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),n.totalPages=r.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){n.page=parseInt(u.$viewValue,10)||1},n.selectPage=function(t){n.page!==t&&0<t&&t<=n.totalPages&&(u.$setViewValue(t),u.$render())},n.getText=function(t){return n[t+"Text"]||r.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},n.$watch("totalItems",function(){n.totalPages=r.calculateTotalPages()}),n.$watch("totalPages",function(t){e(n.$parent,t),n.page>t?n.selectPage(t):u.$render()})}]).constant("xuePaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"首页",previousText:"上页",nextText:"下页",lastText:"尾页",rotate:!0}).directive("xuePagination",["$parse","xuePaginationConfig",function(l,o){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["xuePagination","?ngModel"],controller:"xuePaginationController",templateUrl:function(t,e){return e.templateUrl||"xue/template/pagination/pagination.html"},replace:!0,link:function(t,e,n,i){var a=i[0],r=i[1];if(r){var c=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):o.maxSize,g=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):o.rotate;t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):o.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):o.directionLinks,a.init(r,o),n.maxSize&&t.$parent.$watch(l(n.maxSize),function(t){c=parseInt(t,10),a.render()});var u=a.render;a.render=function(){u(),0<t.page&&t.page<=t.totalPages&&(t.pages=function(t,e){var n=[],i=1,a=e,r=angular.isDefined(c)&&c<e;r&&(g?e<(a=(i=Math.max(t-Math.floor(c/2),1))+c-1)&&(i=(a=e)-c+1):(i=(Math.ceil(t/c)-1)*c+1,a=Math.min(i+c-1,e)));for(var u=i;u<=a;u++){var l=p(u,u,u===t);n.push(l)}if(r&&!g){if(1<i){var o=p(i-1,"...",!1);n.unshift(o)}if(a<e){var s=p(a+1,"...",!1);n.push(s)}}return n}(t.page,t.totalPages))}}function p(t,e,n){return{number:t,text:e,active:n}}}}}]).constant("xuePagerConfig",{itemsPerPage:10,previousText:"« 上页",nextText:"下页 »",align:!0}).directive("xuePager",["xuePagerConfig",function(u){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["xuePager","?ngModel"],controller:"xuePaginationController",templateUrl:function(t,e){return e.templateUrl||"xue/template/pagination/pager.html"},replace:!0,link:function(t,e,n,i){var a=i[0],r=i[1];r&&(t.align=angular.isDefined(n.align)?t.$parent.$eval(n.align):u.align,a.init(r,u))}}}]),angular.module("xue.table",["xue.uitl.lang","xue.pagination"]).directive("xueTable",["xueUtilLang",function(t){return{restrict:"E",replace:!0,scope:{tableConfig:"="},templateUrl:function(t,e){return e.templateUrl||"xue/template/table/table.html"},link:function(t,e,n){}}}]),angular.module("xue.util.array",[]).service("xueUtilArray",[function(){}]),angular.module("xue.util.collection",[]).service("xueUtilCollect",[function(){}]),angular.module("xue.util.date",[]).service("xueUtilDate",[function(){this.test=function(){return"test"}}]),angular.module("xue.util.function",[]).service("xueUtilFunc",[function(){this.before=function(t,e){}}]),angular.module("xue.util.lang",[]).service("xueUtilLang",[function(){var o=this,n=["Null","Undefined","Number","Boolean","String","Object","Function","Array","RegExp","Date"];this.isObject=function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)},this.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},this.isJson=function(t){return"[object Object]"===Object.prototype.toString.call(t)},this.isNumber=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},this.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},this.isPicture=function(t){try{return/(.*).(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga)$/i.test(t)}catch(t){return!1}},this.isEmpty=function(t){if(!o.isObject())return!0;if(o.isType(t,"array"))return!t.length;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0},this.isType=function(t,e){return this.getType(t)===e},this.getType=function(t){var e={};return angular.forEach(n,function(t){e["[object "+t+"]"]=t.toLowerCase()}),e[Object.prototype.toString.call(t)]||"object"},this.copyObj=function(t,e){if(!o.isObject(t))return t;var n,i,a,r=o.isType(t,"array")?[]:{};for(n in t)hasOwnProperty.call(t,n)&&(i=t[n],a=o.getType(i),r[n]=!e||"array"!==a&&"object"!==a?i:o.copyObj(i,e));return r},this.isMatch=function(t,e){if(!o.isObject(t)||!o.isObject(e))return!1;if(t===e)return!0;var n,i=[];for(var a in Object(e))hasOwnProperty.call(e,a)&&i.push(a);for(n=i.length;n--;){var r=i[n],u=e[r],l=o.isObject(u);if(!t[r])return!1;if(l){if(!o.isMatch(t[r],u))return!1}else if(u!==t[r])return!1}return!0},this.isIE=function(){return!!window.ActiveXObject||"ActiveXObject"in window},this.isIE8=function(){var t,e=navigator.appVersion.split(";");return 1<e.length&&(t=e[1].replace(/[ ]/g,""),"Microsoft Internet Explorer"===navigator.appName&&"MSIE8.0"===t)}}]),angular.module("xue.util.math",[]).service("xueUtilMath",[function(){var r=this;this.addition=function(t,e){var n,i,a;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return(t*(a=Math.pow(10,Math.max(n,i)))+e*a)/a},this.subtraction=function(t,e){var n,i,a,r;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return r=Math.max(n,i),a=Math.pow(10,r),Number(((t*a-e*a)/a).toFixed(r))},this.multiplication=function(t,e){var n=0;t=t.toString(),e=e.toString();try{n+=t.split(".")[1].length}catch(t){n+=0}try{n+=e.split(".")[1].length}catch(t){n+=0}return Number(t.replace(".",""))*Number(e.replace(".","")/Math.pow(10,n))},this.division=function(t,e){var n,i,a,r;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return a=Number(t.toString().replace(".","")),r=Number(e.toString().replace(".","")),this.multiplication(a/r,Math.pow(10,i-n))},this.mean=function(t){if(!Array.isArray(t)||!t.length)return NaN;for(var e,n=-1,i=t.length;++n<i;){var a=t[n];void 0!==a&&(e=void 0===e?a:r.addition(e,a))}return e/i}}]),angular.module("xue.util.methods",[]).service("xueUtilMethod",[function(){}]),angular.module("xue.util.number",[]).service("xueUtilNumber",[function(){this.inRange=function(t,e,n){return void 0===n&&(n=e,e=0),t>=Math.min(e,n)&&t<Math.max(e,n)}}]),angular.module("xue.util.object",[]).service("xueUtilObject",[function(){this.removeEmptyField=function(t){var e={};for(var n in t)t[n]&&(e[n]=t[n]);return e},this.removeEmptyParams=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var a={};for(var r in t[n])t[n][r]&&(a[r]=t[n][r]);e.push(a)}return e}}]),angular.module("xue.util.properties",[]).service("xueUtilProperty",[function(){}]),angular.module("xue.util.seq",[]).service("xueUtilSeq",[function(){}]),angular.module("xue.util.string",[]).service("xueUtilString",[function(){function a(t){for(var e=[],n=0,i=1;i<t.length;i++)/[A-Z]+/.test(t[i])&&/[a-z]+/.test(t[i-1])&&(e.push(t.slice(n,i)),n=i);return e.push(t.slice(n,t.length)),e}this.capitalize=function(t){var e=t?t.toString().toLowerCase():"";return e.length<2?e.charAt(0).toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)},this.endsWith=function(t,e,n){if(!t||!e)return!1;var i=t.toString(),a=e.toString(),r=n?parseInt(n,0):0,u=i.indexOf(a);return-1!=u&&(void 0===n||u==r)},this.lowerCase=function(t){if(!t)return"";for(var e=(t=t.toString().replace(/[^A-Za-z]/g," ")).split(" "),n=[],i=0;i<e.length;i++)e[i]&&(console.log(e[i]),/[A-Z]+/.test(e[i].slice(1))&&/[a-z]+/.test(e[i].slice(1))?n=n.concat(a(e[i])):2==e[i].length&&/[A-Z]+/.test(e[i].slice(1))?(n.push(e[i][0]),n.push(e[i][1])):n.push(e[i]));return n},this.padStart=function(t,e,n,i){return t=t.toString(),e=parseInt(e,0),n=n||" ","start"==i?t.padStart(e,n):"end"==i?t.padEnd(e,n):void 0},this.formatterText=function(t,e){var n=t.trim();if(n.length){var i=e||10;return n.length>i?n.substring(0,i)+"...":n}return""},this.formatLongText=function(t,e){var n=t.trim();if(n.length){var i=e||(0<parseInt(e,0)?parseInt(e,0):5);return n.length>2*i?n.substring(0,i)+"..."+n.substring(n.length-i,n.length):n}return""}}]),angular.module("xue.util",["xue.util.array","xue.util.collection","xue.util.date","xue.util.lang","xue.util.math","xue.util.methods","xue.util.number","xue.util.object","xue.util.properties","xue.util.seq","xue.util.string","xue.uitl.function"]),angular.module("xue/template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("xue/template/pagination/pager.html",'<ul class="pager">\n    <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n    <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("xue/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("xue/template/pagination/pagination.html",'<ul class="pagination">\n    <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}">\n        <a href ng-click="selectPage(1)">{{getText(\'first\')}}</a>\n    </li>\n    <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}">\n        <a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a>\n    </li>\n    <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}">\n        <a href ng-click="selectPage(page.number)">{{page.text}}</a>\n    </li>\n    <li ng-if="directionLinks" ng-class="{disabled: noNext()}">\n        <a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a>\n    </li>\n    <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}">\n        <a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a>\n    </li>\n</ul>')}]),angular.module("xue/template/table/table.html",[]).run(["$templateCache",function(t){t.put("xue/template/table/table.html",'<div class="xe-table-container">\n    <div class="xe-table-header">\n        \n    </div>\n    <div class="xe-table-content">\n\n    </div>\n    <div class="xe-table-footer">\n\n    </div>\n</div>')}]),angular.module("ui.xue.table").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTableCss||angular.element(document).find("head").prepend('<style type="text/css">.xe-table-container{width:100%;height:100%;position:relative;}.xe-table-container .xe-table-header{height:40px;width:100%;position:absolute;top:0;background:blue;}.xe-table-container .xe-table-content{width:100%;height:100%;background:red;}.xe-table-container .xe-table-footer{height:40px;width:100%;position:absolute;bottom:0;background:pink;}</style>'),angular.$$uibTableCss=!0});