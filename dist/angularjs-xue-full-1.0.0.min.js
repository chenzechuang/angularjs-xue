/**
 * angularjs-xue
 * Homepage: https://github.com/zhangxuelian/angularjs-xue
 * 
 * Version: 1.0.0 - 2020-01-20
 * Require angularjs version: 1.2.32
 * License: ISC
 */

angular.module("ui.xue",["ui.xue.tpls","xue.pagination","xue.uitl.lang","xue.pagination","xue.table","xue.ui","xue.util.array","xue.util.lang","xue.util.collection","xue.util.lang","xue.util.date","xue.util.math","xue.util.methods","xue.util.number","xue.util.object","xue.util.properties","xue.util.seq","xue.util.string","xue.util.function","xue.util"]),angular.module("ui.xue.tpls",["xue/template/pagination/pager.html","xue/template/pagination/pagination.html","xue/template/pagination/pager.html","xue/template/pagination/pagination.html","xue/template/table/table.html"]),angular.module("xue.pagination",[]).controller("xuePaginationController",["$scope","$attrs","$parse",function(n,i,r){var a=this,u={$setViewValue:angular.noop},e=i.numPages?r(i.numPages).assign:angular.noop;this.init=function(t,e){u=t,this.config=e,u.$render=function(){a.render()},i.itemsPerPage?n.$parent.$watch(r(i.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),n.totalPages=a.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){n.page=parseInt(u.$viewValue,10)||1},n.selectPage=function(t){n.page!==t&&0<t&&t<=n.totalPages&&(u.$setViewValue(t),u.$render())},n.getText=function(t){return n[t+"Text"]||a.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},n.$watch("totalItems",function(){n.totalPages=a.calculateTotalPages()}),n.$watch("totalPages",function(t){e(n.$parent,t),n.page>t?n.selectPage(t):u.$render()})}]).constant("xuePaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"首页",previousText:"上页",nextText:"下页",lastText:"尾页",rotate:!0}).directive("xuePagination",["$parse","xuePaginationConfig",function(l,o){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["xuePagination","?ngModel"],controller:"xuePaginationController",templateUrl:function(t,e){return e.templateUrl||"xue/template/pagination/pagination.html"},replace:!0,link:function(t,e,n,i){var r=i[0],a=i[1];if(a){var c=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):o.maxSize,g=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):o.rotate;t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):o.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):o.directionLinks,r.init(a,o),n.maxSize&&t.$parent.$watch(l(n.maxSize),function(t){c=parseInt(t,10),r.render()});var u=r.render;r.render=function(){u(),0<t.page&&t.page<=t.totalPages&&(t.pages=function(t,e){var n=[],i=1,r=e,a=angular.isDefined(c)&&c<e;a&&(g?e<(r=(i=Math.max(t-Math.floor(c/2),1))+c-1)&&(i=(r=e)-c+1):(i=(Math.ceil(t/c)-1)*c+1,r=Math.min(i+c-1,e)));for(var u=i;u<=r;u++){var l=p(u,u,u===t);n.push(l)}if(a&&!g){if(1<i){var o=p(i-1,"...",!1);n.unshift(o)}if(r<e){var s=p(r+1,"...",!1);n.push(s)}}return n}(t.page,t.totalPages))}}function p(t,e,n){return{number:t,text:e,active:n}}}}}]).constant("xuePagerConfig",{itemsPerPage:10,previousText:"« 上页",nextText:"下页 »",align:!0}).directive("xuePager",["xuePagerConfig",function(u){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["xuePager","?ngModel"],controller:"xuePaginationController",templateUrl:function(t,e){return e.templateUrl||"xue/template/pagination/pager.html"},replace:!0,link:function(t,e,n,i){var r=i[0],a=i[1];a&&(t.align=angular.isDefined(n.align)?t.$parent.$eval(n.align):u.align,r.init(a,u))}}}]),angular.module("xue.table",["xue.uitl.lang","xue.pagination"]).directive("xueTable",["xueUtilLang",function(t){return{restrict:"E",replace:!0,scope:{tableConfig:"="},templateUrl:function(t,e){return e.templateUrl||"xue/template/table/table.html"},link:function(t,e,n){}}}]),angular.module("xue.util.array",[]).service("xueUtilArray",[function(){this.uniq=function(t){for(var e=[],n={},i=0;i<t.length;i++)n[t[i]]||(e.push(t[i]),n[t[i]]=1);return e},this.uniqJson=function(t,e){var n=[],i={};return angular.forEach(t,function(t){i[t[e]]||(n.push(t),i[t[e]]=1)}),n},this.quickSort=function(u){return function t(e,n){var i=e,r=n-1,a=u[e];if(1<n-e){for(;i<r;){for(;i<r;r--)if(u[r]<a){u[i++]=u[r];break}for(;i<r;i++)if(u[i]>a){u[r--]=u[i];break}}u[i]=a,t(0,i),t(i+1,n)}}(0,u.length),u},this.findObjIndex=function(t,e,n){try{for(var i=0;i<t.length;i++)if(t[i][e]==n)return i;return-1}catch(t){return-1}},this.findStrIndex=function(t,e){for(var n=0;n<t.length;n++)if(t[n]==e)return n;return-1}}]),angular.module("xue.util.collection",["xue.util.lang"]).service("xueUtilCollect",["xueUtilLang",function(s){this.findWithArray=function(t,e,n){for(var i=[],r=0;r<t.length;r++){for(var a in n)t[r][e]===n[a]&&(i.push(t[r]),n.splice(a,1));if(0===n.length)return i}return i},this.findWithVal=function(t,e,n){try{for(var i=0;i<t.length;i++)if(t[i][e]===n)return t[i];return""}catch(t){return""}},this.removeEmptyField=function(t){var n={};return angular.forEach(t,function(t,e){t&&(n[e]=t)}),n},this.removeEmptyItem=function(t){for(var e=[],n=0;n<t.length;n++){var i={};for(var r in t[n])t[n][r]&&(i[r]=t[n][r]);e.push(i)}return e},this.sortByfield=function(t,n,i,e){if(t.length&&n){if(i=void 0===i||!!i,0==(e=void 0===e?isNaN(parseInt(t[0][n],0))?1:0:1==e?1:0)){t.sort(function(t,e){return i?t[n]-e[n]:e[n]-t[n]})}else{t.sort((r=i?1:-1,function(t,e){return t[n]<e[n]?-1*r:t[n]>e[n]?r:0}))}return t}return[];var r},this.arrDimension=function(t,e){if(e=e||0,t instanceof Array){for(var n=0,i=++e,r=0,a=0;a<t.length;a++)n<(r=this.arrDimension(t[a],i))&&(n=r);return n}return e},this.getByteLen=function(t){var e=0;try{for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);1<=i&&i<=126||65376<=i&&i<=65439?e++:e+=2}}catch(t){}return e},this.sliceByLen=function(e,t,n){try{var i,r=[];if(n&&s.isType(e||"","string")){var a=2*t,u="",l=0;for(i=0;i<e.length;i++)l+=this.getByteLen(e.charAt(i)),u+=e.charAt(i),a<=l&&(r.push(u),u="",l=0);l&&r.push(u)}else{var o=Math.ceil(e.length/t);for(i=0;i<o;i++)r.push(e.slice(i*t,i*t+t))}return r}catch(t){return e||[]}}}]),angular.module("xue.util.date",[]).service("xueUtilDate",[function(){this.test=function(){return"test"}}]),angular.module("xue.util.function",[]).service("xueUtilFunc",[function(){this.before=function(t,e){}}]),angular.module("xue.util.lang",[]).service("xueUtilLang",[function(){var o=this,n=["Null","Undefined","Number","Boolean","String","Object","Function","Array","RegExp","Date"];this.isObject=function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)},this.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},this.isJson=function(t){return"[object Object]"===Object.prototype.toString.call(t)},this.isNumber=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},this.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},this.isPicture=function(t){try{return/(.*).(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga)$/i.test(t)}catch(t){return!1}},this.isEmpty=function(t){if(!o.isObject())return!0;if(o.isType(t,"array"))return!t.length;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0},this.isType=function(t,e){return this.getType(t)===e},this.getType=function(t){var e={};return angular.forEach(n,function(t){e["[object "+t+"]"]=t.toLowerCase()}),e[Object.prototype.toString.call(t)]||"object"},this.copyObj=function(t,e){if(!o.isObject(t))return t;var n,i,r,a=o.isType(t,"array")?[]:{};for(n in t)hasOwnProperty.call(t,n)&&(i=t[n],r=o.getType(i),a[n]=!e||"array"!==r&&"object"!==r?i:o.copyObj(i,e));return a},this.isMatch=function(t,e){if(!o.isObject(t)||!o.isObject(e))return!1;if(t===e)return!0;var n,i=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&i.push(r);for(n=i.length;n--;){var a=i[n],u=e[a],l=o.isObject(u);if(!t[a])return!1;if(l){if(!o.isMatch(t[a],u))return!1}else if(u!==t[a])return!1}return!0},this.isIE=function(){return!!window.ActiveXObject||"ActiveXObject"in window},this.isIE8=function(){var t,e=navigator.appVersion.split(";");return 1<e.length&&(t=e[1].replace(/[ ]/g,""),"Microsoft Internet Explorer"===navigator.appName&&"MSIE8.0"===t)}}]),angular.module("xue.util.math",[]).service("xueUtilMath",[function(){var a=this;this.addition=function(t,e){var n,i,r;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return(t*(r=Math.pow(10,Math.max(n,i)))+e*r)/r},this.subtraction=function(t,e){var n,i,r,a;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return a=Math.max(n,i),r=Math.pow(10,a),Number(((t*r-e*r)/r).toFixed(a))},this.multiplication=function(t,e){var n=0;t=t.toString(),e=e.toString();try{n+=t.split(".")[1].length}catch(t){n+=0}try{n+=e.split(".")[1].length}catch(t){n+=0}return Number(t.replace(".",""))*Number(e.replace(".","")/Math.pow(10,n))},this.division=function(t,e){var n,i,r,a;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return r=Number(t.toString().replace(".","")),a=Number(e.toString().replace(".","")),this.multiplication(r/a,Math.pow(10,i-n))},this.mean=function(t){if(!Array.isArray(t)||!t.length)return NaN;for(var e,n=-1,i=t.length;++n<i;){var r=t[n];void 0!==r&&(e=void 0===e?r:a.addition(e,r))}return e/i}}]),angular.module("xue.util.methods",[]).service("xueUtilMethod",[function(){}]),angular.module("xue.util.number",[]).service("xueUtilNumber",[function(){this.inRange=function(t,e,n){return void 0===n&&(n=e,e=0),t>=Math.min(e,n)&&t<Math.max(e,n)}}]),angular.module("xue.util.object",[]).service("xueUtilObject",[function(){this.removeEmptyField=function(t){var e={};for(var n in t)t[n]&&(e[n]=t[n]);return e},this.removeEmptyParams=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r={};for(var a in t[n])t[n][a]&&(r[a]=t[n][a]);e.push(r)}return e}}]),angular.module("xue.util.properties",[]).service("xueUtilProperty",[function(){}]),angular.module("xue.util.seq",[]).service("xueUtilSeq",[function(){}]),angular.module("xue.util.string",[]).service("xueUtilString",[function(){function r(t){for(var e=[],n=0,i=1;i<t.length;i++)/[A-Z]+/.test(t[i])&&/[a-z]+/.test(t[i-1])&&(e.push(t.slice(n,i)),n=i);return e.push(t.slice(n,t.length)),e}this.capitalize=function(t){var e=t?t.toString().toLowerCase():"";return e.length<2?e.charAt(0).toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)},this.endsWith=function(t,e,n){if(!t||!e)return!1;var i=t.toString(),r=e.toString(),a=n?parseInt(n,0):0,u=i.indexOf(r);return-1!=u&&(void 0===n||u==a)},this.lowerCase=function(t){if(!t)return"";for(var e=(t=t.toString().replace(/[^A-Za-z]/g," ")).split(" "),n=[],i=0;i<e.length;i++)e[i]&&(console.log(e[i]),/[A-Z]+/.test(e[i].slice(1))&&/[a-z]+/.test(e[i].slice(1))?n=n.concat(r(e[i])):2==e[i].length&&/[A-Z]+/.test(e[i].slice(1))?(n.push(e[i][0]),n.push(e[i][1])):n.push(e[i]));return n},this.padStart=function(t,e,n,i){return t=t.toString(),e=parseInt(e,0),n=n||" ","start"==i?t.padStart(e,n):"end"==i?t.padEnd(e,n):void 0},this.formatterText=function(t,e){var n=t.trim();if(n.length){var i=e||10;return n.length>i?n.substring(0,i)+"...":n}return""},this.formatLongText=function(t,e){var n=t.trim();if(n.length){var i=e||(0<parseInt(e,0)?parseInt(e,0):5);return n.length>2*i?n.substring(0,i)+"..."+n.substring(n.length-i,n.length):n}return""}}]),angular.module("xue.util",["xue.util.array","xue.util.collection","xue.util.date","xue.util.lang","xue.util.math","xue.util.methods","xue.util.number","xue.util.object","xue.util.properties","xue.util.seq","xue.util.string","xue.util.function"]),angular.module("xue/template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("xue/template/pagination/pager.html",'<ul class="pager">\n    <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n    <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("xue/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("xue/template/pagination/pagination.html",'<ul class="pagination">\n    <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}">\n        <a href ng-click="selectPage(1)">{{getText(\'first\')}}</a>\n    </li>\n    <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}">\n        <a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a>\n    </li>\n    <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}">\n        <a href ng-click="selectPage(page.number)">{{page.text}}</a>\n    </li>\n    <li ng-if="directionLinks" ng-class="{disabled: noNext()}">\n        <a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a>\n    </li>\n    <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}">\n        <a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a>\n    </li>\n</ul>')}]),angular.module("xue/template/table/table.html",[]).run(["$templateCache",function(t){t.put("xue/template/table/table.html",'<div class="xe-table-container">\n    <div class="xe-table-header">\n        \n    </div>\n    <div class="xe-table-content">\n\n    </div>\n    <div class="xe-table-footer">\n\n    </div>\n</div>')}]),angular.module("ui.xue.table").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTableCss||angular.element(document).find("head").prepend('<style type="text/css">.xe-table-container{width:100%;height:100%;position:relative;}.xe-table-container .xe-table-header{height:40px;width:100%;position:absolute;top:0;background:blue;}.xe-table-container .xe-table-content{width:100%;height:100%;background:red;}.xe-table-container .xe-table-footer{height:40px;width:100%;position:absolute;bottom:0;background:pink;}</style>'),angular.$$uibTableCss=!0});