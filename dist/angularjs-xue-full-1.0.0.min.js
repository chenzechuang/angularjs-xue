/**
 * angularjs-xue
 * Homepage: https://github.com/zhangxuelian/angularjs-xue
 * 
 * Version: 1.0.0 - 2020-01-15
 * Require angularjs version: 1.2.32
 * License: ISC
 */

angular.module("ui.xue",["ui.xue.tpls","xue.pagination","xue.uitl.lang","xue.pagination","xue.table","xue.ui","xue.util.array","xue.util.collection","xue.util.date","xue.util.lang","xue.util.math","xue.util.methods","xue.util.number","xue.util.object","xue.util.properties","xue.util.seq","xue.util.string","xue.uitl.function","xue.util"]),angular.module("ui.xue.tpls",["xue/template/pagination/pager.html","xue/template/pagination/pagination.html","xue/template/pagination/pager.html","xue/template/pagination/pagination.html","xue/template/table/table.html"]),angular.module("xue.pagination",[]).controller("xuePaginationController",["$scope","$attrs","$parse",function(n,a,i){var l=this,u={$setViewValue:angular.noop},t=a.numPages?i(a.numPages).assign:angular.noop;this.init=function(e,t){u=e,this.config=t,u.$render=function(){l.render()},a.itemsPerPage?n.$parent.$watch(i(a.itemsPerPage),function(e){l.itemsPerPage=parseInt(e,10),n.totalPages=l.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(u.$viewValue,10)||1},n.selectPage=function(e){n.page!==e&&0<e&&e<=n.totalPages&&(u.$setViewValue(e),u.$render())},n.getText=function(e){return n[e+"Text"]||l.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},n.$watch("totalItems",function(){n.totalPages=l.calculateTotalPages()}),n.$watch("totalPages",function(e){t(n.$parent,e),n.page>e?n.selectPage(e):u.$render()})}]).constant("xuePaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"首页",previousText:"上页",nextText:"下页",lastText:"尾页",rotate:!0}).directive("xuePagination",["$parse","xuePaginationConfig",function(r,o){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["xuePagination","?ngModel"],controller:"xuePaginationController",templateUrl:function(e,t){return t.templateUrl||"xue/template/pagination/pagination.html"},replace:!0,link:function(e,t,n,a){var i=a[0],l=a[1];if(l){var g=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):o.maxSize,c=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):o.rotate;e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):o.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):o.directionLinks,i.init(l,o),n.maxSize&&e.$parent.$watch(r(n.maxSize),function(e){g=parseInt(e,10),i.render()});var u=i.render;i.render=function(){u(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],a=1,i=t,l=angular.isDefined(g)&&g<t;l&&(c?t<(i=(a=Math.max(e-Math.floor(g/2),1))+g-1)&&(a=(i=t)-g+1):(a=(Math.ceil(e/g)-1)*g+1,i=Math.min(a+g-1,t)));for(var u=a;u<=i;u++){var r=x(u,u,u===e);n.push(r)}if(l&&!c){if(1<a){var o=x(a-1,"...",!1);n.unshift(o)}if(i<t){var s=x(i+1,"...",!1);n.push(s)}}return n}(e.page,e.totalPages))}}function x(e,t,n){return{number:e,text:t,active:n}}}}}]).constant("xuePagerConfig",{itemsPerPage:10,previousText:"« 上页",nextText:"下页 »",align:!0}).directive("xuePager",["xuePagerConfig",function(u){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["xuePager","?ngModel"],controller:"xuePaginationController",templateUrl:function(e,t){return t.templateUrl||"xue/template/pagination/pager.html"},replace:!0,link:function(e,t,n,a){var i=a[0],l=a[1];l&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):u.align,i.init(l,u))}}}]),angular.module("xue.table",["xue.uitl.lang","xue.pagination"]).directive("xueTable",["xueUtilLang",function(e){return{restrict:"E",replace:!0,scope:{tableConfig:"="},templateUrl:function(e,t){return t.templateUrl||"xue/template/table/table.html"},link:function(e,t,n){}}}]),angular.module("xue.util.array",[]).service("xueUtilArray",[function(){}]),angular.module("xue.util.collection",[]).service("xueUtilCollect",[function(){}]),angular.module("xue.util.date",[]).service("xueUtilDate",[function(){this.test=function(){return"test"}}]),angular.module("xue.util.function",[]).service("xueUtilFunc",[function(){this.before=function(e,t){}}]),angular.module("xue.uitl.lang",[]).service("xueUtilLang",[function(){this.isObject=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},this.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)}}]),angular.module("xue.util.math",[]).service("xueUtilMath",[function(){}]),angular.module("xue.util.methods",[]).service("xueUtilMethod",[function(){}]),angular.module("xue.util.number",[]).service("xueUtilNumber",[function(){}]),angular.module("xue.util.object",[]).service("xueUtilObject",[function(){}]),angular.module("xue.util.properties",[]).service("xueUtilProperty",[function(){}]),angular.module("xue.util.seq",[]).service("xueUtilSeq",[function(){}]),angular.module("xue.util.string",[]).service("xueUtilString",[function(){}]),angular.module("xue.util",["xue.util.array","xue.util.collection","xue.util.date","xue.util.lang","xue.util.math","xue.util.methods","xue.util.number","xue.util.object","xue.util.properties","xue.util.seq","xue.util.string","xue.uitl.function"]),angular.module("xue/template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("xue/template/pagination/pager.html",'<ul class="pager">\n    <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n    <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("xue/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("xue/template/pagination/pagination.html",'<ul class="pagination">\n    <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}">\n        <a href ng-click="selectPage(1)">{{getText(\'first\')}}</a>\n    </li>\n    <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}">\n        <a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a>\n    </li>\n    <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}">\n        <a href ng-click="selectPage(page.number)">{{page.text}}</a>\n    </li>\n    <li ng-if="directionLinks" ng-class="{disabled: noNext()}">\n        <a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a>\n    </li>\n    <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}">\n        <a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a>\n    </li>\n</ul>')}]),angular.module("xue/template/table/table.html",[]).run(["$templateCache",function(e){e.put("xue/template/table/table.html",'<div class="xe-table-container">\n    <div class="xe-table-header">\n        \n    </div>\n    <div class="xe-table-content">\n\n    </div>\n    <div class="xe-table-footer">\n\n    </div>\n</div>')}]),angular.module("ui.xue.table").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTableCss||angular.element(document).find("head").prepend('<style type="text/css">.xe-table-container{width:100%;height:100%;position:relative;}.xe-table-container .xe-table-header{height:40px;width:100%;position:absolute;top:0;background:blue;}.xe-table-container .xe-table-content{width:100%;height:100%;background:red;}.xe-table-container .xe-table-footer{height:40px;width:100%;position:absolute;bottom:0;background:pink;}</style>'),angular.$$uibTableCss=!0});